(window._vfP=window._vfP||[]).push([[142],{456:function(t,e,n){"use strict";n.r(e);n(39),n(12),n(7),n(8),n(4),n(20),n(16),n(27),n(30),n(22),n(31),n(38),n(113);var r,c=n(3),o=n(147),i=n(560),u=n(1),a=n(13);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,c=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){c=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=["actor_uuid","content","content_container_uuid","content_uuid","parent_actor_uuid","parent_uuid","section_uuid","thread_uuid"];function l(t,e,n){var r=Object.entries(n).filter((function(t){var e=b(t,1)[0];return f.includes(e)})).reduce((function(t,e){var n=b(e,2),r=n[0],c=n[1];return t[r]=c,t}),{});a.a.getInstance().$publish(t,e,r)}var _,p=(s(r={},c.m,Object(i.a)(u.d.CHANNEL,u.d.EVENTS.CREATED,o.b,l)),s(r,c.n,Object(i.a)(u.k.CHANNEL,u.k.EVENTS.POSTED,o.x,l,!0)),r),O=n(679);function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m,j=(y(_={},c.bb,Object(O.a)(o.q)),y(_,c.ab,Object(O.a)(o.o)),y(_,c.tb,Object(O.b)(o.r)),_),v=(n(11),n(0)),h=n(2),g=n(10),P=n(174),w=(n(227),n(680));function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D,S=(E(m={},c.Kb,(function(t,e){switch(e.message_type){case P.b.LIVECOMMENT:return e.action!==P.a.UPDATED?Promise.resolve():(t.commit(h.hc,{key:e.content_uuid,item:e.payload.settings}),t.commit(h.dc,{key:e.content_uuid,item:{title:e.payload.title}}),Promise.resolve());case P.b.LIVECOMMENT_POST:case P.b.REPLY_TO_LIVECOMMENT_POST_DEPRECATED:var n=t.getters[v.S](e.content_uuid);return n&&(!n.date_edited&&e.payload.date_edited||n.date_edited<e.payload.date_edited)?Promise.resolve():e.payload.actor_uuid===t.getters[v.jb]?Promise.resolve():e.payload.thread_uuid===e.payload.content_container_uuid?t.dispatch(c.Pb,e):t.dispatch(c.Qb,e);default:return Promise.resolve()}})),E(m,c.Pb,(function(t,e){switch(e.action){case P.a.PICKED:return Object(w.b)(t,e);case P.a.UNPICKED:return Object(w.e)(t,e)}if(t.getters[v.Qb])switch(e.action){case P.a.CREATED:return Object(w.f)(t,e);default:return Promise.resolve()}switch(e.action){case P.a.VISIBLE:return Object(w.f)(t,e);case P.a.DISABLED:case P.a.DELETED:return Object(w.a)(t,e);default:return Promise.resolve()}})),E(m,c.Qb,(function(t,e){if(t.getters[v.Qb])switch(e.action){case P.a.CREATED:return Object(w.d)(t,e);default:return Promise.resolve()}switch(e.action){case P.a.VISIBLE:return Object(w.d)(t,e);case P.a.DISABLED:case P.a.DELETED:return Object(w.c)(t,e);default:return Promise.resolve()}})),E(m,g.k,(function(t,e){return t.state[e.container_uuid]?t.dispatch(c.Kb,e):Promise.resolve()})),m),T=n(681);function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=(A(D={},c.Ub,T.c(o.u)),A(D,c.md,T.e(o.A)),A(D,c.G,T.a(o.g)),A(D,c.hd,T.d(o.z)),A(D,c.Eb,T.b(o.j)),D),C=n(110),I=n(6),N=n(173),R=n(47),U=n(67),B=n(14),M=function(t){return{content_container_uuid:t,title:"",cursor:void 0,is_subscribed:!1,is_stale:!1,all_content_count:0,featured_content_count:0}},L=(n(114),n(76),n(24)),q=n(55),V=n(15);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t,e,n,r){var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(V.b)(t,"sectionUuid","getContentContainerSubscription"),Object(V.b)(e,"contentContainerUuid","getContentContainerSubscription");var c,o="/v5/subscriptions/{section_uuid}/contentcontainers/{content_container_uuid}".replace("{".concat("section_uuid","}"),encodeURIComponent(String(t))).replace("{".concat("content_container_uuid","}"),encodeURIComponent(String(e))),i=L.parse(o,!0);r&&(c=r.baseOptions);var u=H(H({method:"GET"},c),n),a={},s={};if(r&&r.accessToken){var b="function"==typeof r.accessToken?r.accessToken():r.accessToken;a.Authorization="Bearer "+b}return r&&(r.username||r.password)?a.Authorization="Basic "+btoa(r.username+":"+r.password):u.withCredentials=!0,i.query=H(H(H({},i.query),s),n.query),delete i.search,u.headers=H(H({},a),n.headers),{url:L.format(i),options:u}}(t,e,n,r),o=H(H({},c.options),{},{url:V.a+c.url});return q.a.request(o)}function K(t,e,n,r,c){var o=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(V.b)(t,"sectionUuid","subscribeToContentContainer"),Object(V.b)(e,"contentContainerUuid","subscribeToContentContainer");var o,i="/v5/subscriptions/{section_uuid}/contentcontainers/{content_container_uuid}".replace("{".concat("section_uuid","}"),encodeURIComponent(String(t))).replace("{".concat("content_container_uuid","}"),encodeURIComponent(String(e))),u=L.parse(i,!0);c&&(o=c.baseOptions);var a=H(H({method:"POST"},o),r),s={},b={};if(c&&c.accessToken){var d="function"==typeof c.accessToken?c.accessToken():c.accessToken;s.Authorization="Bearer "+d}c&&(c.username||c.password)?s.Authorization="Basic "+btoa(c.username+":"+c.password):a.withCredentials=!0,s["Content-Type"]="application/json",u.query=H(H(H({},u.query),b),r.query),delete u.search,a.headers=H(H({},s),r.headers);var f="string"!=typeof n||"application/json"===a.headers["Content-Type"];return a.data=f?JSON.stringify(void 0!==n?n:{}):n||"",{url:L.format(u),options:a}}(t,e,n,r,c),i=H(H({},o.options),{},{url:V.a+o.url});return q.a.request(i)}function W(t,e,n,r){var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(V.b)(t,"sectionUuid","unsubscribeFromContentContainer"),Object(V.b)(e,"contentContainerUuid","unsubscribeFromContentContainer");var c,o="/v5/subscriptions/{section_uuid}/contentcontainers/{content_container_uuid}".replace("{".concat("section_uuid","}"),encodeURIComponent(String(t))).replace("{".concat("content_container_uuid","}"),encodeURIComponent(String(e))),i=L.parse(o,!0);r&&(c=r.baseOptions);var u=H(H({method:"DELETE"},c),n),a={},s={};if(r&&r.accessToken){var b="function"==typeof r.accessToken?r.accessToken():r.accessToken;a.Authorization="Bearer "+b}return r&&(r.username||r.password)?a.Authorization="Basic "+btoa(r.username+":"+r.password):u.withCredentials=!0,i.query=H(H(H({},i.query),s),n.query),delete i.search,u.headers=H(H({},a),n.headers),{url:L.format(i),options:u}}(t,e,n,r),o=H(H({},c.options),{},{url:V.a+c.url});return q.a.request(o)}var F,Q=n(84);n(99);function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X,Y=C.b,tt=I.c.COMMENTS,et=(J(F={},c.p,(function(t,e){var n=t.dispatch,r=e.section_uuid,i=e.container_id,u=e.title,a=e.settings,s=e.widget_settings,b=s.limit,d=s.reply_limit,f=s.sorted_by,l=s.signature;a=$($({},{activation_time:Date.now(),expiry_time:null,is_hidden:!1,maximum_content_length:1800,is_content_premoderation_enabled:!0}),a);var _={container_id:i,title:u,settings:a},p={signature:s.signature};return Object(o.c)({section_uuid:r,container:_},p).then((function(){return Object(o.m)({section_uuid:r,container_id:i,limit:b,reply_limit:d,sorted_by:f},{signature:l}).then((function(t){var e={section_uuid:r,container_id:i,widget_settings:s,response:t};return n(c.oc,e)}))}))})),J(F,c.ud,(function(t,e){var n=t.getters,r=t.commit,c=e.content_container_uuid,i=e.settings,u=n[v.wc](c),a=n[v.U](c),s=$({expiry_time:a.expiry_time,is_content_premoderation_enabled:a.is_content_premoderation_enabled,is_hidden:a.is_hidden},i),b={section_uuid:u,content_container_uuid:c,settings:s},d={key:c,item:s};return Object(o.E)(b).then(Q.b).then((function(){r(h.hc,d)}))})),J(F,c.z,(function(t,e){var n=t.getters,r=t.commit,c=e.content_container_uuid,i=e.settings,u={section_uuid:n[v.wc](c),content_container_uuid:c,settings:Object.keys(i)},a={key:c,item:i};return Object(o.e)(u).then(Q.b).then((function(){r(h.hc,a)}))})),J(F,c.oc,(function(t,e){var n=t.commit,r=t.dispatch,o=e.response,i=o.content_container_uuid,u=o.container,a=e.widget_settings;n("".concat(N.a,"/").concat(h.Wb),i),n(h.nb,{key:i,item:M(i)}),n(h.Sc,{key:i,item:a}),n(h.dc,{key:i,item:{all_content_count:u.total_visible_content}});var s=r(c.nc,e),b=r(c.db,i);return Promise.all([s,b])})),J(F,c.nc,(function(t,e){var n=t.commit,r=t.getters,o=t.dispatch,i=e.container_id,u=e.response,s=e.section_uuid,b=u.content_container_uuid,d=u.more_available,f=u.container,l=u.contents,_=f.settings,p=f.title,O=r[v.Tb];n(h.nb,{key:b,item:{is_stale:O}}),n(h.hc,{key:b,item:_}),n(h.dc,{key:b,item:{cursor:nt(b,l),title:p}}),n(h.c,{container_id:i,content_container_type:Y,content_container_uuid:b}),a.a.getInstance().$publish("analytics","content_container_load",{content_container_uuid:b,content_container_type:Y,widget_type:tt});var y=o(c.Dc,{content_container_uuid:b,contents:l}).then((function(){return o("".concat(N.a,"/").concat(c.u),{content_container_uuid:b,contents:l,more_available:d})})),m=new Promise((function(t,e){window.vf.context.get("user").then((function(n){return Object(B.r)(n)?o(c.kb,{section_uuid:s,content_container_uuid:b}).then((function(){return t.apply(void 0,arguments)})).catch((function(){return e.apply(void 0,arguments)})):Promise.resolve()}))}));return new Promise((function(t,e){y.then((function(e){var n=[e];m.then((function(e){n.push(e),t(n)})).catch((function(){t(n)}))})).catch((function(t){e(t)}))}))})),J(F,c.jb,(function(t,e){var n,r=t.commit,i=t.dispatch,u=t.getters,a=u[v.ud](e),s=a.pagination_limit,b=a.reply_limit,d=a.sorted_by,f=u[v.wc](e),l=u["".concat(N.a,"/").concat(v.Pc)](e).page_from;return Object(o.k)({starting_from:l,section_uuid:f,content_container_uuid:e,limit:s,reply_limit:b,sorted_by:d}).then((function(t){var o=t.more_available,u=t.contents;return n=u,r(h.dc,{key:e,item:{cursor:nt(e,u)}}),r("".concat(N.a,"/").concat(h.Kc),{thread_uuid:e,more_available:o}),i(c.Dc,{content_container_uuid:e,contents:n})})).then((function(){return i("".concat(N.a,"/").concat(c.u),{content_container_uuid:e,contents:n})})).then((function(){var t=n.filter((function(t){return t.thread_uuid===e}));r("".concat(N.a,"/").concat(h.C),{thread_uuid:e,contents:t,new_page:!0})}))})),J(F,c.db,(function(t,e){var n,r,i=t.commit,u=t.dispatch,a=t.getters,s=a[v.ud](e),b=s.limit,d=s.sorted_by,f=a[v.wc](e),l=a["".concat(N.b,"/").concat(v.Pc)](e)?a["".concat(N.b,"/").concat(v.Pc)](e).page_from:null;return Object(o.k)({starting_from:l,section_uuid:f,content_container_uuid:e,limit:b,reply_limit:0,sorted_by:d,filtered_by:R.d.FEATURED}).then((function(t){var o=t.contents,i=t.more_available;return n=o,r=i,u(c.Dc,{content_container_uuid:e,contents:n})})).then((function(){return n=n.filter((function(t){var e=t.actor_uuid,n=t.state;return!a[v.hd](e)&&n===U.c.VISIBLE})),u("".concat(N.b,"/").concat(c.u),{content_container_uuid:e,contents:n})})).then((function(){i("".concat(N.b,"/").concat(h.C),{thread_uuid:e,contents:n,new_page:!0}),i("".concat(N.b,"/").concat(h.Kc),{thread_uuid:e,more_available:r}),i(h.bd,{content_container_uuid:e,count:n.length})}))})),J(F,c.kb,(function(t,e){var n=t.commit,r=e.section_uuid,c=e.content_container_uuid;return G(r,c).then(Q.b).catch((function(t){return 401!==t.error_status&&404!==t.error_status&&Promise.reject(t)})).then((function(t){n(h.dc,{key:c,item:{is_subscribed:Boolean(t)}})})).catch((function(t){}))})),J(F,c.Hc,(function(t,e){var n=t.commit,r=e.section_uuid,c=e.content_container_uuid;return n(h.dc,{key:c,item:{is_subscribed:!0}}),K(r,c,{author_host_section_uuid:r}).then(Q.b).catch((function(){n(h.dc,{key:c,item:{is_subscribed:!1}})}))})),J(F,c.sd,(function(t,e){var n=t.commit,r=e.section_uuid,c=e.content_container_uuid;return n(h.dc,{key:c,item:{is_subscribed:!1}}),W(r,c).then(Q.b).catch((function(){n(h.dc,{key:c,item:{is_subscribed:!0}})}))})),J(F,c.xd,(function(t,e){var n=t.commit,r=t.dispatch,o=t.getters,i=e.sorted_by,u=e.content_container_uuid;return o[v.ud](u).sorted_by===i?Promise.resolve():(n(h.dc,{key:u,item:{cursor:void 0,contents:[]}}),n(h.Sc,{key:u,item:{sorted_by:i}}),n("".concat(N.a,"/").concat(h.P),u),r(c.jb,u))})),J(F,c.xc,(function(t,e){var n=t.commit,r=t.dispatch;return n(h.dc,{key:e,item:{cursor:void 0,contents:[],is_stale:!1}}),n("".concat(N.a,"/").concat(h.P),e),r(c.jb,e)})),F),nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0!==e.length){var n=e[e.length-1],r=n.thread_uuid,c=n.content_uuid;return r===t?c:r}},rt=n(682);function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ot,it=(ct(X={},c.j,rt.a(o.a)),ct(X,c.I,rt.c(o.v)),ct(X,c.K,rt.d(o.B)),ct(X,c.Gc,rt.g(o.y)),ct(X,c.rd,rt.i(o.D)),ct(X,c.R,rt.e(o.i)),ct(X,c.D,rt.b(o.f)),ct(X,c.lc,rt.f(o.w)),ct(X,c.pd,rt.h(o.C)),X),ut=n(683),at=n(528);function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft=(dt(ot={},c.N,ut.a(o.h)),dt(ot,c.Ac,(function(t,e){var n=t.commit,r=t.getters;if(!r[v.X](e))return Promise.reject();var c=bt(bt({},Object(at.a)(r,{content_uuid:e})),{},{content_uuid:e});return o.d(c).then(Q.b).then((function(){var t=r[v.S](e),c=r[v.fd](t.actor_uuid),o=t.total_replies&&!Object(B.H)(c)?U.c.HIDDEN:U.c.DISABLED;n(h.ic,{content_uuid:e,simplified_state:o})}))})),ot);var lt,_t,pt,Ot,yt=!1,mt=(_t={},pt=c.ec,Ot=function(t,e){var n=t.state,r=t.commit;if(e&&(clearTimeout(lt),yt)){yt=!1;var c={is_stale:!0};Object.keys(n).forEach((function(t){r(h.nb,{key:t,item:c})}))}e||(lt=setTimeout((function(){yt=!0}),5e3))},pt in _t?Object.defineProperty(_t,pt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):_t[pt]=Ot,_t);function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gt=vt(vt(vt(vt(vt(vt(vt(vt({},p),j),et),S),k),it),ft),mt),Pt=n(33),wt=n(21);function Et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt;function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt=(St(Dt={},v.fc,(function(t){return function(e){return t[e]}})),St(Dt,v.Wb,(function(t){return function(e){return t[e].is_subscribed}})),St(Dt,v.h,(function(t){return function(e){return t[e].all_content_count}})),St(Dt,v.mb,(function(t){return function(e){return t[e].featured_content_count}})),Dt);n.d(e,"storeModule",(function(){return At}));var At=function(){return{actions:gt,mutations:(Et(t={},h.nb,Object(Pt.h)(wt.default,M)),Et(t,h.dc,Object(Pt.g)()),Et(t,h.bd,(function(t,e){var n=e.content_container_uuid,r=e.count;t[n].featured_content_count+=r})),t),getters:Tt};var t}},505:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return b})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return p}));n(39),n(12),n(7),n(8),n(20),n(50),n(11),n(4);var r=n(2),c=n(0),o=n(67);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t){return function(e,n){return e[t](n)}},b=function(t){return function(e,n){return!e[t](n)}},d=function(t,e){return function(n,r,c){t(n,c)&&e.forEach((function(t){return r(t,c)}))}},f=function(t,e,n){return function(c){return c.hasOwnProperty("error_status")?(t(r.fc,{key:e,item:n}),Promise.reject(c.error_status)):Promise.resolve()}},l=function(t,e){var n=t[c.V](e);return{section_uuid:t[c.wc](n),content_container_uuid:n,content_uuid:e}},_=function(t,e){return function(n,r){var o=n.commit,i=n.getters,u=Object.assign({},i[c.S](r)),a=l(i,r);return e.forEach((function(t){return t(i,o,r)})),t(a).then(f(o,r,u))}},p=function(t){return function(e,n){var i=e.commit,a=e.getters,s=n.content_uuid,b=n.content,d=n.media_uuids,_=Object.assign({},a[c.S](s)),p=a[c.V](s),O=a[c.U](p).is_content_premoderation_enabled,y=a[c.Bc],m=u(u({},l(a,s)),{},{content:{content:b,media_uuids:d,metadata:y}}),j={is_edited:!0,content:b};return O&&(j.state_reasons=[o.d.CONTENT_AWAITING_MODERATION]),i(r.fc,{key:s,item:j}),t(m).then(f(i,s,_))}}},528:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return b}));n(39),n(12),n(7),n(8),n(20),n(11),n(4);var r=n(122),c=n(0),o=n(2),i=n(67);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t,e){var n=e.content_container_uuid,r=e.content_uuid;return n||(n=t[c.V](r)),{section_uuid:t[c.wc](n),content_container_uuid:n}},b=function(t,e){var n=t.getters,s=t.commit,b=e||{},d=b.error_status,f=b.data,l=n[c.jb];return d===r.FORBIDDEN&&"POSTING_BAN_ACTIVE"===f.error_code&&s(o.Pc,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({user_uuid:l,ban_level:i.a.POSTING},f.error)),Promise.reject(e)}},560:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return O}));n(39),n(12),n(7),n(8),n(20),n(11),n(4);var r=n(3),c=n(0),o=n(2),i=n(67),u=n(173),a=n(84),s=n(528);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t,e){var n=t.dispatch,c=e.content,o=e.THREAD_NAMESPACE,i=void 0===o?u.a:o;return n("".concat(i,"/").concat(r.u),{content_container_uuid:c.content_container_uuid,contents:[c]}).then((function(){return n("".concat(i,"/").concat(r.c),c)}))},_=function(t,e){var n=t.commit,r=e.parent_uuid,c=e.thread_uuid;n(o.kb,c),r!==c&&n(o.kb,r)},p=function(t,e,n){var r=t.getters,u=t.commit,a=e.container_uuid,s=e.parent_actor_uuid,b=e.content_uuid,f=e.thread_uuid,l=n.content_uuid,_=r[c.jb],p=r[c.wc](a),O=r[c.U](a).is_content_premoderation_enabled,y=r[c.S](l);if(y)return Promise.resolve(y);var m=d(d({},e.content),{},{actor_uuid:_,parent_uuid:b||a,thread_uuid:f||a,state_reasons:O?[i.d.CONTENT_AWAITING_MODERATION]:[],content_container_uuid:a,section_uuid:p,content_uuid:l});return void 0!==s&&(m.parent_actor_uuid=s),u(o.fc,{key:m.content_uuid,item:m}),m},O=function(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(u,b){var f=u.getters,O=u.dispatch,y=b.content,m=b.container_uuid,j=b.content_uuid,v=b.THREAD_NAMESPACE;y.metadata=f[c.Bc];var h=d(d({},Object(s.a)(f,{content_container_uuid:m})),{},{content_uuid:j,content:y});return n(h).then(a.b).then((function(t){return O(r.g).then((function(){return t}))})).then((function(t){return p(u,b,t)})).then((function(n){return o(t,e,n),i?(_(u,n),O("".concat(v,"/").concat(r.c),n)):l(u,{content:n,THREAD_NAMESPACE:v})})).catch((function(t){return Object(s.b)(u,t)}))}}},679:function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return d}));n(39),n(12),n(7),n(8),n(4),n(20);var r=n(3),c=n(2),o=n(84),i=n(528);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){return function(e,n){var u=e.getters,s=e.commit,b=e.dispatch,d=n.content_uuid,f=n.limit,l=n.starting_from,_=n.THREAD_NAMESPACE,p=a(a({},Object(i.a)(u,{content_uuid:d})),{},{content_uuid:d,limit:f,starting_from:l});return t(p).then(o.b).then((function(t){var e=t.contents.map((function(t){return a(a({},t),{},{read:!0,isNew:!1})}));return b(r.Dc,{content_container_uuid:p.content_container_uuid,contents:e}).then((function(){s("".concat(_,"/").concat(c.zb),{thread_uuid:d,contents:e})}))}))}},d=function(t){return function(e,n){var c=e.getters,u=e.dispatch,s=n.content_container_uuid,b=n.content_uuids,d=a(a({},Object(i.a)(c,{content_container_uuid:s})),{},{uuids:b});return t(d).then(o.b).then((function(t){var e=t.contents;return u(r.Dc,{content_container_uuid:s,contents:e})}))}}},680:function(t,e,n){"use strict";n.d(e,"f",(function(){return _})),n.d(e,"b",(function(){return p})),n.d(e,"e",(function(){return O})),n.d(e,"d",(function(){return y})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return j}));n(27),n(30),n(22),n(31),n(39),n(12),n(20),n(7),n(8),n(16),n(11),n(4);var r=n(3),c=n(2),o=n(0),i=n(173),u=n(560);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,c=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){c=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(c)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=t.dispatch,c=e.container_uuid,o=[d(d({},e.payload),{},{content_container_uuid:c,isNew:!0})];return n(r.Dc,{content_container_uuid:c,contents:o}).then((function(){return o}))}function _(t,e){return l(t,e).then((function(e){var n=a(e,1)[0];return Object(u.b)(t,{content:n,THREAD_NAMESPACE:i.a})}))}function p(t,e){return l(t,e).then((function(e){var n=a(e,1)[0];return Object(u.b)(t,{content:n,THREAD_NAMESPACE:i.b})}))}function O(t,e){var n={content_uuid:e.content_uuid,thread_uuid:e.container_uuid};return t.commit("".concat(i.b,"/").concat(c.Jb),n),t.commit("".concat(i.b,"/").concat(c.Ib),n),Promise.resolve()}function y(t,e){return t.getters[o.S](e.payload.thread_uuid)?l(t,e).then((function(){Object(u.c)(t,e.payload);var n=t.dispatch;return Promise.all([n("".concat(i.a,"/").concat(r.c),e.payload),n("".concat(i.b,"/").concat(r.c),e.payload)])})):Promise.resolve()}function m(t,e){var n=t.dispatch,c=e.payload;return Promise.all([n("".concat(i.a,"/").concat(r.yc),c),n("".concat(i.b,"/").concat(r.yc),c)])}function j(t,e){var n=t.getters,c=t.dispatch,u=e.payload;return n[o.S](u.thread_uuid)?Promise.all([c("".concat(i.a,"/").concat(r.yc),u),c("".concat(i.b,"/").concat(r.yc),u)]):Promise.resolve()}},681:function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return _})),n.d(e,"b",(function(){return p}));var r=n(2),c=n(0),o=n(505),i=Object(o.e)(Object(o.b)(c.bb),[r.jb,r.m]),u=Object(o.e)(Object(o.a)(c.bb),[r.X,r.Pb]),a=Object(o.e)(Object(o.b)(c.Z),[r.hb,r.f]),s=Object(o.e)(Object(o.a)(c.Z),[r.W,r.Eb]),b=Object(o.e)(Object(o.b)(c.ab),[r.j]),d=function(t){return Object(o.c)(t,[i,s])},f=function(t){return Object(o.c)(t,[u])},l=function(t){return Object(o.c)(t,[a,u])},_=function(t){return Object(o.c)(t,[s])},p=function(t){return Object(o.c)(t,[b])}},682:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return y})),n.d(e,"g",(function(){return m})),n.d(e,"i",(function(){return j})),n.d(e,"e",(function(){return v})),n.d(e,"b",(function(){return h})),n.d(e,"f",(function(){return g})),n.d(e,"h",(function(){return P}));var r=n(0),c=n(2),o=n(505),i=Object(o.e)(Object(o.a)(r.r),[c.I]),u=Object(o.e)(Object(o.a)(r.t),[c.Z]),a=Object(o.e)(Object(o.a)(r.u),[c.ab]),s=Object(o.e)(Object(o.a)(r.z),[c.Tc]),b=Object(o.e)(Object(o.a)(r.B),[c.bb]),d=Object(o.e)(Object(o.a)(r.v),[c.bb]),f=Object(o.e)(Object(o.a)(r.s),[c.Y]),l=Object(o.e)(Object(o.a)(r.x),[c.tb]),_=Object(o.e)(Object(o.a)(r.A),[c.Zc]),p=function(t){return Object(o.c)(t,[i])},O=function(t){return Object(o.c)(t,[u])},y=function(t){return Object(o.c)(t,[a])},m=function(t){return Object(o.c)(t,[s])},j=function(t){return Object(o.c)(t,[b])},v=function(t){return Object(o.c)(t,[d])},h=function(t){return Object(o.c)(t,[f])},g=function(t){return Object(o.c)(t,[l])},P=function(t){return Object(o.c)(t,[_])}},683:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(505),c=function(t){return Object(r.d)(t)}}}]);
//# sourceMappingURL=livecomments-module-js.4e524aa4bcf9f0fe1a3e.js.map